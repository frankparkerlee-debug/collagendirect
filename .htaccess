# =====================================
# Collagen Direct - Minimal Rules
# =====================================

RewriteEngine On
RewriteBase /

# Photo upload with token (must come before file check)
RewriteRule ^upload/([a-f0-9]+)$ upload.php [L,QSA]

# Serve real files/dirs as-is
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Pretty routes â†’ entry files
RewriteRule ^login/?$    login/index.php   [L,QSA]
RewriteRule ^logout/?$   logout/index.php  [L,QSA]
RewriteRule ^portal/?$   portal/index.php  [L,QSA]

# API endpoints your JS calls
RewriteRule ^api/csrf\.php$   api/csrf.php   [L,QSA]
RewriteRule ^api/login\.php$  api/login.php  [L,QSA]

DirectoryIndex index.php index.html